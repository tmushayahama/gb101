<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class RDbAuthManager</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> RDbAuthManager</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Rights authorization manager class file.</p>
	<ul class="tags">
				<li><span class="field">author:</span> Christoffer Niska &lt;<a href="mailto:cniska@live.com">cniska@live.com</a>&gt;</li>
				<li><span class="field">copyright:</span> Copyright &amp;copy; 2010 Christoffer Niska</li>
				<li><span class="field">since:</span> 0.9.7</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_protected---modules---rights---components---RDbAuthManager.php.html">/protected/modules/rights/components/RDbAuthManager.php</a> (line <span class="field">9</span>)
		</p>
		
				
		<pre>CDbAuthManager
   |
   --RDbAuthManager</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$rightsTable" title="details" class="var-name">$rightsTable</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#addItemChild" title="details" class="method-name">addItemChild</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$itemName</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$childName</span>)
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">CAuthAssignment</span>
										<a href="#assign" title="details" class="method-name">assign</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$itemName</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$userId</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$bizRule</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$data</span> = <span class="var-default">null</span>])
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#getAssignmentsByItemName" title="details" class="method-name">getAssignmentsByItemName</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$name</span>)
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">CAuthItem</span>
										<a href="#getAuthItem" title="details" class="method-name">getAuthItem</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$allowCaching</span> = <span class="var-default">true</span>])
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#getAuthItems" title="details" class="method-name">getAuthItems</a>
											([<span class="var-type">integer</span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$userId</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$sort</span> = <span class="var-default">true</span>])
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#getAuthItemsByNames" title="details" class="method-name">getAuthItemsByNames</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$names</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$nested</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#getItemChildren" title="details" class="method-name">getItemChildren</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$names</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$allowCaching</span> = <span class="var-default">true</span>])
									</div>
																<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#updateItemWeight" title="details" class="method-name">updateItemWeight</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$result</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$rightsTable" id="$rightsTable"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$rightsTable</span>
			 = <span class="var-default"> 'Rights'</span>			(line <span class="line-number">14</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">var:</span> the name of the rights table.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodaddItemChild" id="addItemChild"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">addItemChild</span> (line <span class="line-number">27</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds an item as a child of another item.</p>
<p class="description"><p>Overloads the parent method to make sure that  we do not add already existing children.</p></p>
	<ul class="tags">
				<li><span class="field">throws:</span> CException if either parent or child doesn't exist or if a loop has been detected.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			addItemChild
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$itemName</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$childName</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$itemName</span><span class="var-description">: the item name.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$childName</span><span class="var-description">: the child item name.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodassign" id="assign"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">assign</span> (line <span class="line-number">47</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Assigns an authorization item to a user making sure that  the user doesn't already have this assignment.</p>
<p class="description"><p>Overloads the parent method to make sure that  we do not assign already assigned items.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> the authorization assignment information.</li>
				<li><span class="field">throws:</span> CException if the item does not exist or if the item has already been assigned to the user.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">CAuthAssignment</span>
		<span class="method-name">
			assign
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$itemName</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$userId</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$bizRule</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$data</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$itemName</span><span class="var-description">: the item name.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$userId</span><span class="var-description">: the user ID (see IWebUser::getId)</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$bizRule</span><span class="var-description">: the business rule to be executed when checkAccess is called  for this particular authorization item.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$data</span><span class="var-description">: additional data associated with this assignment.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAssignmentsByItemName" id="getAssignmentsByItemName"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getAssignmentsByItemName</span> (line <span class="line-number">240</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			getAssignmentsByItemName
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$name</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAuthItem" id="getAuthItem"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getAuthItem</span> (line <span class="line-number">61</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the authorization item with the specified name.</p>
<p class="description"><p>Overloads the parent method to allow for runtime caching.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> the authorization item. Null if the item cannot be found.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">CAuthItem</span>
		<span class="method-name">
			getAuthItem
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$allowCaching</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$name</span><span class="var-description">: the name of the item.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$allowCaching</span><span class="var-description">: whether to accept cached data.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAuthItems" id="getAuthItems"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getAuthItems</span> (line <span class="line-number">121</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the authorization items of the specific type and user.</p>
<p class="description"><p>Overloads the parent method to allow for sorting.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> the authorization items of the specific type.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			getAuthItems
		</span>
					([<span class="var-type">integer</span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">null</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$userId</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$sort</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$type</span><span class="var-description">: the item type (0: operation, 1: task, 2: role). Defaults to null,  meaning returning all items regardless of their type.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$userId</span><span class="var-description">: the user ID. Defaults to null, meaning returning all items even if  they are not assigned to a user.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$sort</span><span class="var-description">: whether to sort the items according to their weights.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAuthItemsByNames" id="getAuthItemsByNames"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getAuthItemsByNames</span> (line <span class="line-number">89</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the specified authorization items.</p>
	<ul class="tags">
				<li><span class="field">return:</span> the authorization items.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			getAuthItemsByNames
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$names</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$nested</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$names</span><span class="var-description">: the names of the authorization items to get.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$nested</span><span class="var-description">: whether to nest the items by type.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetItemChildren" id="getItemChildren"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getItemChildren</span> (line <span class="line-number">189</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the children of the specified item.</p>
<p class="description"><p>Overloads the parent method to allow for caching.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> all child items of the parent</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			getItemChildren
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$names</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$allowCaching</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$names</span><span class="var-description">: the parent item name. This can be either a string or an array.  The latter represents a list of item names (available since version 1.0.5).</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$allowCaching</span><span class="var-description">: whether to accept cached data.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodupdateItemWeight" id="updateItemWeight"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">updateItemWeight</span> (line <span class="line-number">262</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Updates the authorization items weight.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			updateItemWeight
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$result</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$result</span><span class="var-description">: the result returned from jui-sortable.</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Fri, 12 Jul 2013 11:43:37 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</p>
	</div></body>
</html>